function goto(e){e.scrollIntoView(!0)}var allergies=[],medications=[],diagnoses=[];function buildPage(e){var t;document.getElementById("checksum").innerText="PatientenID: "+e.checksum.toString(),addListElement("date",document.createTextNode(e.generationDate.toString())),addListElement("emergency_contact",document.createTextNode(e.phoneContact.name)),addListElement("emergency_contact",createLink("tel:"+(t=e.phoneContact.number.toString()),document.createTextNode(t))),addListElement("doctors_contact",document.createTextNode(e.phoneMedical.name)),addListElement("doctors_contact",createLink("tel:"+(t=e.phoneMedical.number.toString()),document.createTextNode(t))),parser_allergies=e.allergies;for(var n=0;n<parser_allergies.length;n++)allergies.push(addListElement("allergies_list",createSpinner()));parser_medications=e.medications;for(n=0;n<parser_medications.length;n++)medications.push(addListElement("medications_list",createSpinner()));parser_diagnoses=e.diagnoses;for(n=0;n<parser_diagnoses.length;n++)diagnoses.push(addListElement("diagnoses_list",createSpinner()));addListElement("notes_list",document.createTextNode(e.notes.toString())),updatePage(e)}function addListElement(e,t){var n=document.createElement("LI");return n.className="list-group-item",n.appendChild(t),document.getElementById(e).appendChild(n),n}function updateListContent(e,t){e.innerHTML="",e.appendChild(t)}function createLink(e,t){var n=document.createElement("A");return n.href=e,n.target="_blank",n.appendChild(t),n}function createSpinner(){var e=document.createElement("SPAN");return e.className="spinner-border text-secondary mb-0",e.role="status",e}function updatePage(e){parser_allergies=e.allergies;for(var t=0;t<parser_allergies.length;t++)updateListContent(allergies[t],document.createTextNode(parser_allergies[t]));parser_medications=e.medications;for(t=0;t<parser_medications.length;t++)if("RESOLVED"===parser_medications[t].state){var n=document.createElement("SPAN"),a=document.createTextNode(parser_medications[t].name);""!==parser_medications[t].ref&&(a=createLink(parser_medications[t].ref,a)),n.appendChild(a),n.appendChild(document.createElement("BR")),n.appendChild(document.createTextNode(parser_medications[t].intervals.morning.toString()+" / "+parser_medications[t].intervals.lunch.toString()+" / "+parser_medications[t].intervals.evening.toString()+" / "+parser_medications[t].intervals.night.toString())),updateListContent(medications[t],n)}parser_diagnoses=e.diagnoses;for(t=0;t<parser_diagnoses.length;t++)if("RESOLVED"===parser_diagnoses[t].state){(n=document.createElement("SPAN")).className="row align-items-start";var r=document.createElement("SPAN");r.className="col-2 mb-0",r.appendChild(document.createTextNode(parser_diagnoses[t].icd.toString())),n.appendChild(r);a=document.createTextNode(parser_diagnoses[t].name);""!==parser_diagnoses[t].ref&&(a=createLink(parser_diagnoses[t].ref,a)),a.className="col",n.appendChild(a),updateListContent(diagnoses[t],n)}}