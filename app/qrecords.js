var QRecords=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QRContents=t.page=void 0;var i=n(1);Object.defineProperty(t,"QRContents",{enumerable:!0,get:function(){return i.QRContents}});var r=new(function(){function e(){this.allergies=[],this.medications=[],this.diagnoses=[]}return e.prototype.addAllergie=function(){var e=document.createElement("input");e.className="list-group-item form-control",e.type="text",e.placeholder="Allergie",document.getElementById("allergies_list").appendChild(e),this.allergies.push(e)},e.prototype.addDiagnose=function(){var e=[[1,"Test"],[2,"Name"],[3,"Drei"]],t=document.createElement("DIV");t.className="list-group-item";var n,i,r=document.createElement("SELECT");r.className="form-control",(n=document.createElement("OPTION")).appendChild(document.createTextNode("Bitte auswählen...")),n.value=NaN,r.appendChild(n),t.appendChild(r);for(var o=0;o<e.length;o++)(i=document.createElement("OPTION")).appendChild(document.createTextNode(e[o][1].toString())),i.value=e[o][0],r.appendChild(i);document.getElementById("diagnoses_list").appendChild(t),this.diagnoses.push(r)},e.prototype.addMedication=function(){var e=[[1,"Test"],[2,"Name"],[3,"Drei"]],t=document.createElement("DIV");t.className="list-group-item";var n=document.createElement("DIV");n.className="container-fluid row",t.appendChild(n),document.getElementById("medications_list").appendChild(t);var i,r,o=document.createElement("SELECT");o.className="col form-control",(i=document.createElement("OPTION")).appendChild(document.createTextNode("Bitte auswählen...")),i.value=NaN,o.appendChild(i),n.appendChild(o);for(var a=0;a<e.length;a++)(r=document.createElement("OPTION")).appendChild(document.createTextNode(e[a][1].toString())),r.value=e[a][0],o.appendChild(r);var u=document.createElement("input");u.className="col-1 form-control",u.type="number",u.placeholder="Mo",u.max="15",u.min="0",n.appendChild(u);var s=document.createElement("input");s.className="col-1 form-control",s.type="number",s.placeholder="Mo",s.max="15",s.min="0",n.appendChild(s);var c=document.createElement("input");c.className="col-1 form-control",c.type="number",c.placeholder="Mo",c.max="15",c.min="0",n.appendChild(c);var l=document.createElement("input");l.className="col-1 form-control",l.type="number",l.placeholder="Mo",l.max="15",l.min="0",n.appendChild(l),this.medications.push([o,u,s,c,l])},e.prototype.parseInterval=function(e){var t=0|parseInt(e);return t<0&&(t=0),t>15&&(t=15),t},e.prototype.generateAnchor=function(){var e=new i.QRContents;e.generationDate=Math.floor((new Date).getTime()/864e5),e.phoneContact=new i.PhoneNumber,e.phoneContact.name=document.getElementById("doctor_name").value,e.phoneContact.number=document.getElementById("doctor_number").value.replace(/[^0-9+]*/g,""),e.phoneMedical=new i.PhoneNumber,e.phoneMedical.name=document.getElementById("emergency_name").value,e.phoneMedical.number=document.getElementById("emergency_number").value.replace(/[^0-9+]*/g,""),e.notes=document.getElementById("notes").value,e.allergies=[];for(var t=0;t<this.allergies.length;t++)""!==this.allergies[t].value&&e.allergies.push(this.allergies[t].value);e.medications=[];for(t=0;t<this.medications.length;t++){var n=this.medications[t][0].value,r=this.parseInterval(this.medications[t][1].value),o=this.parseInterval(this.medications[t][2].value),a=this.parseInterval(this.medications[t][3].value),u=this.parseInterval(this.medications[t][4].value);if("NaN"!==n){var s=new i.Medication;s.code=n,s.intervals=new i.MedicationIntervals,s.intervals.morning=r,s.intervals.lunch=o,s.intervals.evening=a,s.intervals.night=u,e.medications.push(s)}}e.diagnoses=[];for(t=0;t<this.diagnoses.length;t++)if("NaN"!==this.diagnoses[t].value){var c=new i.Diagnose;c.code=this.diagnoses[t].value,e.diagnoses.push(c)}var l=new i.Encoder(e).encode();console.log("Data JSON: "),console.log(e),console.log("Checksum: "+e.checksum),console.log("Anchor: "+l)},e}());t.page=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QRContents=t.PhoneNumber=t.MedicationIntervals=t.Medication=t.Diagnose=t.Encoder=void 0;var i=n(2);Object.defineProperty(t,"Diagnose",{enumerable:!0,get:function(){return i.Diagnose}}),Object.defineProperty(t,"Medication",{enumerable:!0,get:function(){return i.Medication}}),Object.defineProperty(t,"MedicationIntervals",{enumerable:!0,get:function(){return i.MedicationIntervals}}),Object.defineProperty(t,"PhoneNumber",{enumerable:!0,get:function(){return i.PhoneNumber}}),Object.defineProperty(t,"QRContents",{enumerable:!0,get:function(){return i.QRContents}});var r=n(3),o=n(4),a=n(5),u=function(){function e(e){this.input=e}return e.prototype.getResult=function(){return this.anchor},e.prototype.encode=function(){var e=new r.ByteBuffer(new Uint8Array(4096));return e.writeUnsignedNum(this.input.generationDate,16),e.writeUnsignedNum(this.input.phoneContact.name.length,6),e.writeString(this.input.phoneContact.name,o.NAME_CHARSET),e.writeUnsignedNum(this.input.phoneContact.number.length,6),e.writeString(this.input.phoneContact.number,o.PHONE_CHARSET),e.writeUnsignedNum(this.input.phoneMedical.name.length,6),e.writeString(this.input.phoneMedical.name,o.NAME_CHARSET),e.writeUnsignedNum(this.input.phoneMedical.number.length,6),e.writeString(this.input.phoneMedical.number,o.PHONE_CHARSET),e.writeUnsignedNum(this.input.allergies.length,6),this.input.allergies.forEach((function(t){e.writeUnsignedNum(t.length,6),e.writeString(t,o.NAME_CHARSET)})),e.writeUnsignedNum(this.input.medications.length,6),this.input.medications.forEach((function(t){e.writeUnsignedNum(t.code,24),e.writeUnsignedNum(t.intervals.morning,4),e.writeUnsignedNum(t.intervals.lunch,4),e.writeUnsignedNum(t.intervals.evening,4),e.writeUnsignedNum(t.intervals.night,4)})),e.writeUnsignedNum(this.input.diagnoses.length,6),this.input.diagnoses.forEach((function(t){e.writeUnsignedNum(t.code,14)})),e.writeUnsignedNum(this.input.notes.length,12),e.writeString(this.input.notes,o.VARTEXT_CHARSET),this.anchor=a.fromByteArray(e.finalize()),this.input.checksum=e.generateChecksum(),this.anchor},e}();t.Encoder=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnose=t.MedicationIntervals=t.Medication=t.PhoneNumber=t.QRContents=void 0;var i=function(){function e(){}return e.prototype.getGenerationDateText=function(){return new Date(24*this.generationDate*60*60*1e3).toDateString()},e}();t.QRContents=i;var r=function(){};t.PhoneNumber=r;var o=function(){};t.Medication=o;var a=function(){function e(){}return e.prototype.toString=function(){return this.morning.toString()+" / "+this.lunch.toString()+" / "+this.evening.toString()+" / "+this.night.toString()},e}();t.MedicationIntervals=a;var u=function(){};t.Diagnose=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ByteBuffer=void 0;var i=function(){function e(e){this.data=e,this.position=0}return e.prototype.isBitSet=function(e){var t=e>>3,n=128>>(e%=8);return(this.data[t]&n)==n},e.prototype.setBit=function(e,t){var n=e>>3,i=128>>(e%=8);t?this.data[n]|=i:(i=~i,this.data[n]&=i)},e.prototype.readBit=function(){var e=this.isBitSet(this.position);return this.position++,e},e.prototype.readUnsignedNum=function(e){for(var t=0,n=0;n<e;n++)this.readBit()&&(t+=1<<e-n-1);return t},e.prototype.readBinary=function(e){for(var t=new Uint8Array((e>>3)+(e%8==0?0:1)),n=(8-e%8)%8,i=0;i<e;i++){var r=n+i;if(this.readBit()){var o=r>>3,a=128>>(r%=8);t[o]|=a}}return t},e.prototype.readString=function(e,t){for(var n=Math.ceil(Math.log(t.length)/Math.log(2)),i="",r=0;r<e;r++)i+=t.charAt(this.readUnsignedNum(n));return i},e.prototype.writeBit=function(e){this.setBit(this.position,e),this.position++},e.prototype.writeUnsignedNum=function(e,t){for(var n=0;n<t;n++){var i=1<<t-n-1;this.writeBit((i&e)==i)}},e.prototype.writeBinary=function(e,t){for(var n=(8-t%8)%8,i=0;i<t;i++){var r=n+i,o=r>>3,a=128>>(r%=8);this.writeBit((e[o]&a)==a)}},e.prototype.writeString=function(e,t){for(var n=Math.ceil(Math.log(t.length)/Math.log(2)),i=0;i<e.length;i++){var r=t.indexOf(e.charAt(i));-1==r&&(r=0),this.writeUnsignedNum(r,n)}},e.prototype.rewind=function(){this.position=0},e.prototype.getPosition=function(){return this.position},e.prototype.finalize=function(){for(var e=(this.position>>3)+(this.position%8==0?0:1),t=new Uint8Array(e),n=0;n<e;n++)t[n]=this.data[n];return this.data=t,t},e.prototype.generateChecksum=function(){var e=this.position;this.rewind();for(var t=Math.floor(8*this.data.length/13),n=0,i=0;i<t;i++)n^=this.readUnsignedNum(13);return this.position=e,n},e}();t.ByteBuffer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PHONE_CHARSET=t.NAME_CHARSET=t.VARTEXT_CHARSET=void 0,t.VARTEXT_CHARSET="? 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz.!-+_=><ÄÖÜäöüßáàâéeêìíîóòôúùûÁÀÂÉÈÊÍÌÎÓÒÔÚÙÛ",t.NAME_CHARSET="? ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-ÄÖÜäöüßáàâéeêìíîóòôúùûÁÀÂÉÈÊÍÌÎÓÒÔÚÙÛ",t.PHONE_CHARSET="? 0123456789+"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromByteArray=t.toByteArray=void 0;for(var i=[],r=[],o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=o.length;a<u;++a)i[a]=o[a],r[o.charCodeAt(a)]=a;function s(e,t,n){for(var r,o,a=[],u=t;u<n;u+=3)r=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63,t.toByteArray=function(e){var t,n,i=function(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}(e),o=i[0],a=i[1],u=new Uint8Array(function(e,t,n){return 3*(t+n)/4-n}(0,o,a)),s=0,c=a>0?o-4:o;for(n=0;n<c;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[s++]=t>>16&255,u[s++]=t>>8&255,u[s++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[s++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[s++]=t>>8&255,u[s++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,u=n-r;a<u;a+=16383)o.push(s(e,a,a+16383>u?u:a+16383));return 1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),o.join("")}}]);